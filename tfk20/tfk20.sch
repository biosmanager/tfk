EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 4
Title "tfk20"
Date "2021-02-02"
Rev "0"
Comp "biosmanager"
Comment1 ""
Comment2 "Per-key RGB and RGB backlight"
Comment3 "MX hot-swap, USB-C, STM32 MCU"
Comment4 "QMK compatible numpad"
$EndDescr
$Comp
L MCU_ST_STM32F0:STM32F042K6Tx U?
U 1 1 601918F8
P 5450 4100
F 0 "U?" H 5800 3050 50  0000 C CNN
F 1 "STM32F042K6T6" H 6050 2950 50  0000 C CNN
F 2 "Package_QFP:LQFP-32_7x7mm_P0.8mm" H 5050 3200 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00105814.pdf" H 5450 4100 50  0001 C CNN
	1    5450 4100
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 601952A7
P 4750 1750
F 0 "C?" H 4842 1796 50  0000 L CNN
F 1 "100n" H 4842 1705 50  0000 L CNN
F 2 "" H 4750 1750 50  0001 C CNN
F 3 "~" H 4750 1750 50  0001 C CNN
	1    4750 1750
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 6019567A
P 5150 1750
F 0 "C?" H 5242 1796 50  0000 L CNN
F 1 "4.7u" H 5242 1705 50  0000 L CNN
F 2 "" H 5150 1750 50  0001 C CNN
F 3 "~" H 5150 1750 50  0001 C CNN
	1    5150 1750
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 60195F04
P 4350 1750
F 0 "C?" H 4442 1796 50  0000 L CNN
F 1 "100n" H 4442 1705 50  0000 L CNN
F 2 "" H 4350 1750 50  0001 C CNN
F 3 "~" H 4350 1750 50  0001 C CNN
	1    4350 1750
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 60196A16
P 6950 1750
F 0 "C?" H 7042 1796 50  0000 L CNN
F 1 "100n" H 7042 1705 50  0000 L CNN
F 2 "" H 6950 1750 50  0001 C CNN
F 3 "~" H 6950 1750 50  0001 C CNN
	1    6950 1750
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 60196A1C
P 7350 1750
F 0 "C?" H 7442 1796 50  0000 L CNN
F 1 "4.7u" H 7442 1705 50  0000 L CNN
F 2 "" H 7350 1750 50  0001 C CNN
F 3 "~" H 7350 1750 50  0001 C CNN
	1    7350 1750
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 601970AA
P 5850 1750
F 0 "C?" H 5942 1796 50  0000 L CNN
F 1 "10n" H 5942 1705 50  0000 L CNN
F 2 "" H 5850 1750 50  0001 C CNN
F 3 "~" H 5850 1750 50  0001 C CNN
	1    5850 1750
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 601970B0
P 6250 1750
F 0 "C?" H 6342 1796 50  0000 L CNN
F 1 "1u" H 6342 1705 50  0000 L CNN
F 2 "" H 6250 1750 50  0001 C CNN
F 3 "~" H 6250 1750 50  0001 C CNN
	1    6250 1750
	1    0    0    -1  
$EndComp
Wire Wire Line
	6950 1850 6950 1900
Wire Wire Line
	6950 1900 7350 1900
Wire Wire Line
	7350 1900 7350 1850
Wire Wire Line
	6950 1600 7350 1600
Wire Wire Line
	7350 1600 7350 1650
Wire Wire Line
	6950 1650 6950 1600
Connection ~ 6950 1600
Connection ~ 6950 1900
Wire Wire Line
	6950 1350 6950 1450
$Comp
L power:+3.3V #PWR0101
U 1 1 6019D23A
P 6950 1350
F 0 "#PWR0101" H 6950 1200 50  0001 C CNN
F 1 "+3.3V" H 6965 1523 50  0000 C CNN
F 2 "" H 6950 1350 50  0001 C CNN
F 3 "" H 6950 1350 50  0001 C CNN
	1    6950 1350
	1    0    0    -1  
$EndComp
Text Label 7050 1450 0    50   ~ 0
VDDIO2
Wire Wire Line
	6950 1900 6950 2000
Wire Wire Line
	5850 1650 5850 1600
Wire Wire Line
	5850 1600 6250 1600
Wire Wire Line
	6250 1600 6250 1650
Wire Wire Line
	6250 1850 6250 1900
Wire Wire Line
	6250 1900 5850 1900
Wire Wire Line
	5850 1900 5850 1850
$Comp
L power:+3.3V #PWR0102
U 1 1 601A1F07
P 5850 1350
F 0 "#PWR0102" H 5850 1200 50  0001 C CNN
F 1 "+3.3V" H 5865 1523 50  0000 C CNN
F 2 "" H 5850 1350 50  0001 C CNN
F 3 "" H 5850 1350 50  0001 C CNN
	1    5850 1350
	1    0    0    -1  
$EndComp
Text Label 5950 1450 0    50   ~ 0
VDDA
Connection ~ 5850 1600
Connection ~ 5850 1900
Wire Wire Line
	5850 1350 5850 1450
Wire Wire Line
	5850 1900 5850 2000
Wire Wire Line
	4350 1650 4350 1600
Wire Wire Line
	4350 1600 4750 1600
Wire Wire Line
	4750 1600 4750 1650
Wire Wire Line
	4750 1600 5150 1600
Wire Wire Line
	5150 1600 5150 1650
Connection ~ 4750 1600
Wire Wire Line
	5150 1850 5150 1900
Wire Wire Line
	5150 1900 4750 1900
Wire Wire Line
	4750 1900 4750 1850
Wire Wire Line
	4750 1900 4350 1900
Wire Wire Line
	4350 1900 4350 1850
Connection ~ 4750 1900
Connection ~ 4350 1600
Connection ~ 4350 1900
Wire Wire Line
	4350 1600 4350 1450
$Comp
L power:+3.3V #PWR0103
U 1 1 601A9EEA
P 4350 1350
F 0 "#PWR0103" H 4350 1200 50  0001 C CNN
F 1 "+3.3V" H 4365 1523 50  0000 C CNN
F 2 "" H 4350 1350 50  0001 C CNN
F 3 "" H 4350 1350 50  0001 C CNN
	1    4350 1350
	1    0    0    -1  
$EndComp
Text Label 4450 1450 0    50   ~ 0
VDD
Wire Wire Line
	5350 3150 5350 3200
Wire Wire Line
	5350 3150 5250 3150
Wire Wire Line
	5450 3200 5450 3050
Wire Wire Line
	5450 3050 5250 3050
Wire Wire Line
	5550 3200 5550 2950
Wire Wire Line
	5550 2950 5250 2950
Text Label 5250 3150 2    50   ~ 0
VDD
Text Label 5250 3050 2    50   ~ 0
VDDA
Text Label 5250 2950 2    50   ~ 0
VDDIO2
Wire Wire Line
	5350 5100 5350 5200
Wire Wire Line
	5450 5100 5450 5200
Wire Wire Line
	5450 5200 5350 5200
Wire Wire Line
	5350 5300 5350 5200
Connection ~ 5350 5200
$Comp
L power:GND #PWR0104
U 1 1 601C26AC
P 5350 5300
F 0 "#PWR0104" H 5350 5050 50  0001 C CNN
F 1 "GND" H 5355 5127 50  0000 C CNN
F 2 "" H 5350 5300 50  0001 C CNN
F 3 "" H 5350 5300 50  0001 C CNN
	1    5350 5300
	1    0    0    -1  
$EndComp
$Sheet
S 7300 2950 550  1100
U 601C3315
F0 "tfk20 Key Matrix" 50
F1 "tfk20_key_matrix.sch" 50
F2 "COL_0" I L 7300 3050 50 
F3 "COL_1" I L 7300 3150 50 
F4 "COL_2" I L 7300 3250 50 
F5 "COL_3" I L 7300 3350 50 
F6 "ROW_0" O L 7300 3550 50 
F7 "ROW_1" O L 7300 3650 50 
F8 "ROW_2" O L 7300 3750 50 
F9 "ROW_3" O L 7300 3850 50 
F10 "ROW_4" O L 7300 3950 50 
$EndSheet
$Comp
L Connector:USB_C_Receptacle_USB2.0 J?
U 1 1 601C59DD
P 1450 1850
F 0 "J?" H 1557 2717 50  0000 C CNN
F 1 "USB_C_Receptacle_USB2.0" H 1557 2626 50  0000 C CNN
F 2 "" H 1600 1850 50  0001 C CNN
F 3 "https://www.usb.org/sites/default/files/documents/usb_type-c.zip" H 1600 1850 50  0001 C CNN
	1    1450 1850
	1    0    0    -1  
$EndComp
$Comp
L Regulator_Linear:MCP1700-3302E_SOT23 U?
U 1 1 601C857E
P 1950 4350
F 0 "U?" H 1950 4592 50  0000 C CNN
F 1 "MCP1700-3302E_SOT23" H 1950 4501 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 1950 4575 50  0001 C CNN
F 3 "https://datasheet.lcsc.com/szlcsc/Microchip-Tech-MCP1700T-3302E-TT_C39051.pdf" H 1950 4350 50  0001 C CNN
	1    1950 4350
	1    0    0    -1  
$EndComp
Wire Wire Line
	900  4350 900  4250
Wire Wire Line
	900  4350 1250 4350
Wire Wire Line
	1250 4350 1250 4250
Connection ~ 1250 4350
Wire Wire Line
	1250 4350 1450 4350
$Comp
L power:+5V #PWR0105
U 1 1 601CB419
P 1250 4250
F 0 "#PWR0105" H 1250 4100 50  0001 C CNN
F 1 "+5V" H 1265 4423 50  0000 C CNN
F 2 "" H 1250 4250 50  0001 C CNN
F 3 "" H 1250 4250 50  0001 C CNN
	1    1250 4250
	1    0    0    -1  
$EndComp
$Comp
L power:VBUS #PWR0106
U 1 1 601CC915
P 900 4250
F 0 "#PWR0106" H 900 4100 50  0001 C CNN
F 1 "VBUS" H 915 4423 50  0000 C CNN
F 2 "" H 900 4250 50  0001 C CNN
F 3 "" H 900 4250 50  0001 C CNN
	1    900  4250
	1    0    0    -1  
$EndComp
Wire Wire Line
	2250 4350 2450 4350
Wire Wire Line
	2750 4350 2750 4250
$Comp
L power:+3.3V #PWR0107
U 1 1 601D0EBC
P 2750 4250
F 0 "#PWR0107" H 2750 4100 50  0001 C CNN
F 1 "+3.3V" H 2765 4423 50  0000 C CNN
F 2 "" H 2750 4250 50  0001 C CNN
F 3 "" H 2750 4250 50  0001 C CNN
	1    2750 4250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0108
U 1 1 601D216D
P 1950 4650
F 0 "#PWR0108" H 1950 4400 50  0001 C CNN
F 1 "GND" H 1955 4477 50  0000 C CNN
F 2 "" H 1950 4650 50  0001 C CNN
F 3 "" H 1950 4650 50  0001 C CNN
	1    1950 4650
	1    0    0    -1  
$EndComp
Wire Wire Line
	2100 2350 2050 2350
Wire Wire Line
	2050 2450 2100 2450
NoConn ~ 2100 2450
NoConn ~ 2100 2350
Wire Wire Line
	5950 4800 6050 4800
Text Label 6050 4800 0    50   ~ 0
SWCLK
Wire Wire Line
	5950 4700 6050 4700
Text Label 6050 4700 0    50   ~ 0
SWDIO
Wire Wire Line
	5950 4600 6050 4600
Wire Wire Line
	5950 4500 6050 4500
Text Label 6050 4500 0    50   ~ 0
USB_D-
Text Label 6050 4600 0    50   ~ 0
USB_D+
Wire Wire Line
	5950 4300 6050 4300
Wire Wire Line
	5950 4400 6050 4400
Text Label 6050 4300 0    50   ~ 0
I2C_SCL
Text Label 6050 4400 0    50   ~ 0
I2C_SDA
Wire Wire Line
	7200 3050 7300 3050
Wire Wire Line
	7300 3150 7200 3150
Wire Wire Line
	7300 3250 7200 3250
Wire Wire Line
	7300 3350 7200 3350
Wire Wire Line
	7300 3550 7200 3550
Wire Wire Line
	7300 3650 7200 3650
Wire Wire Line
	7200 3750 7300 3750
Wire Wire Line
	7300 3850 7200 3850
Wire Wire Line
	7200 3950 7300 3950
Text Label 6050 3400 0    50   ~ 0
COL_0
Text Label 6050 3500 0    50   ~ 0
COL_1
Text Label 6050 3600 0    50   ~ 0
COL_2
Text Label 6050 3700 0    50   ~ 0
COL_3
Text Label 7200 3550 2    50   ~ 0
ROW_0
Text Label 7200 3650 2    50   ~ 0
ROW_1
Text Label 7200 3750 2    50   ~ 0
ROW_2
Text Label 7200 3850 2    50   ~ 0
ROW_3
Text Label 7200 3950 2    50   ~ 0
ROW_4
Wire Wire Line
	5950 3400 6050 3400
Wire Wire Line
	5950 3500 6050 3500
Wire Wire Line
	5950 3600 6050 3600
Wire Wire Line
	5950 3700 6050 3700
Text Label 7200 3050 2    50   ~ 0
COL_0
Text Label 7200 3150 2    50   ~ 0
COL_1
Text Label 7200 3250 2    50   ~ 0
COL_2
Text Label 7200 3350 2    50   ~ 0
COL_3
Text Label 4850 4200 2    50   ~ 0
ROW_0
Text Label 4850 4300 2    50   ~ 0
ROW_1
Text Label 4850 4400 2    50   ~ 0
ROW_2
Text Label 4850 4500 2    50   ~ 0
ROW_3
Text Label 4850 4600 2    50   ~ 0
ROW_4
Wire Wire Line
	4850 4200 4950 4200
Wire Wire Line
	4850 4300 4950 4300
Wire Wire Line
	4850 4400 4950 4400
Wire Wire Line
	4850 4500 4950 4500
Wire Wire Line
	4850 4600 4950 4600
Wire Wire Line
	4950 3400 4850 3400
Wire Wire Line
	5950 4200 6000 4200
Wire Wire Line
	5950 3800 6000 3800
Wire Wire Line
	4950 3900 4900 3900
Wire Wire Line
	4950 4000 4900 4000
NoConn ~ 4900 3900
NoConn ~ 4900 4000
NoConn ~ 6000 3800
NoConn ~ 6000 4200
Wire Wire Line
	6000 4900 5950 4900
NoConn ~ 6000 4900
Wire Wire Line
	4950 4700 4900 4700
Wire Wire Line
	4950 4900 4900 4900
NoConn ~ 4900 4700
NoConn ~ 4900 4900
Text Label 4850 3400 2    50   ~ 0
NRST
$Comp
L Device:C_Small C?
U 1 1 6026C0EC
P 1150 2950
F 0 "C?" H 1242 2996 50  0000 L CNN
F 1 "4.7n" H 1242 2905 50  0000 L CNN
F 2 "" H 1150 2950 50  0001 C CNN
F 3 "~" H 1150 2950 50  0001 C CNN
	1    1150 2950
	1    0    0    -1  
$EndComp
Wire Wire Line
	1450 2750 1450 3100
Wire Wire Line
	1450 3100 1150 3100
Wire Wire Line
	1150 3100 1150 3050
Wire Wire Line
	1150 2750 1150 2800
Wire Wire Line
	1150 2800 850  2800
Connection ~ 1150 2800
Wire Wire Line
	1150 2800 1150 2850
$Comp
L Device:R_Small R?
U 1 1 60276E87
P 850 2950
F 0 "R?" H 909 2996 50  0000 L CNN
F 1 "1M" H 909 2905 50  0000 L CNN
F 2 "" H 850 2950 50  0001 C CNN
F 3 "~" H 850 2950 50  0001 C CNN
	1    850  2950
	1    0    0    -1  
$EndComp
Wire Wire Line
	850  2800 850  2850
Wire Wire Line
	850  3050 850  3100
Wire Wire Line
	850  3100 1150 3100
Connection ~ 1150 3100
Wire Wire Line
	1150 3100 1150 3200
$Comp
L power:GND #PWR0109
U 1 1 60281604
P 1150 3200
F 0 "#PWR0109" H 1150 2950 50  0001 C CNN
F 1 "GND" H 1155 3027 50  0000 C CNN
F 2 "" H 1150 3200 50  0001 C CNN
F 3 "" H 1150 3200 50  0001 C CNN
	1    1150 3200
	1    0    0    -1  
$EndComp
Wire Wire Line
	2050 1750 2150 1750
Wire Wire Line
	2050 1850 2150 1850
Wire Wire Line
	2150 1750 2250 1750
Connection ~ 2150 1750
Wire Wire Line
	2150 1750 2150 1850
Wire Wire Line
	2050 1950 2150 1950
Wire Wire Line
	2150 2050 2050 2050
Wire Wire Line
	2150 1950 2250 1950
Connection ~ 2150 1950
Wire Wire Line
	2150 1950 2150 2050
Text Label 2250 1750 0    50   ~ 0
USB_D-
Text Label 2250 1950 0    50   ~ 0
USB_D+
$Comp
L Device:R_Small R?
U 1 1 60299251
P 2800 1450
F 0 "R?" V 2996 1450 50  0000 C CNN
F 1 "5.1k" V 2905 1450 50  0000 C CNN
F 2 "" H 2800 1450 50  0001 C CNN
F 3 "~" H 2800 1450 50  0001 C CNN
	1    2800 1450
	0    -1   -1   0   
$EndComp
$Comp
L Device:R_Small R?
U 1 1 6029AC78
P 2800 1550
F 0 "R?" V 2900 1550 50  0000 C CNN
F 1 "5.1k" V 3000 1550 50  0000 C CNN
F 2 "" H 2800 1550 50  0001 C CNN
F 3 "~" H 2800 1550 50  0001 C CNN
	1    2800 1550
	0    1    1    0   
$EndComp
Wire Wire Line
	2700 1550 2050 1550
Wire Wire Line
	2050 1450 2700 1450
Wire Wire Line
	2900 1450 3100 1450
Wire Wire Line
	3100 1550 2900 1550
Wire Wire Line
	3100 1450 3100 1550
Wire Wire Line
	3100 1550 3100 1650
Connection ~ 3100 1550
$Comp
L power:GND #PWR0110
U 1 1 602B19D4
P 3100 1650
F 0 "#PWR0110" H 3100 1400 50  0001 C CNN
F 1 "GND" H 3105 1477 50  0000 C CNN
F 2 "" H 3100 1650 50  0001 C CNN
F 3 "" H 3100 1650 50  0001 C CNN
	1    3100 1650
	1    0    0    -1  
$EndComp
$Comp
L power:VBUS #PWR0111
U 1 1 602BDA56
P 2400 1150
F 0 "#PWR0111" H 2400 1000 50  0001 C CNN
F 1 "VBUS" H 2415 1323 50  0000 C CNN
F 2 "" H 2400 1150 50  0001 C CNN
F 3 "" H 2400 1150 50  0001 C CNN
	1    2400 1150
	1    0    0    -1  
$EndComp
Wire Wire Line
	2400 1250 2050 1250
Wire Wire Line
	2400 1150 2400 1250
$Sheet
S 8950 3850 600  200 
U 602C340B
F0 "tfk20 RGB Light" 50
F1 "tfk20_rgb_light.sch" 50
F2 "RGB_LIGHT" I L 8950 3950 50 
$EndSheet
Wire Wire Line
	8850 3950 8950 3950
Text Label 8850 3950 2    50   ~ 0
RGB_LIGHT
Wire Wire Line
	5950 4000 6050 4000
Text Label 4850 4800 2    50   ~ 0
RGB_LIGHT
Wire Wire Line
	4350 1450 4450 1450
Connection ~ 4350 1450
Wire Wire Line
	4350 1450 4350 1350
Wire Wire Line
	4350 1900 4350 2000
$Comp
L power:GND #PWR0112
U 1 1 601DC47E
P 4350 2000
F 0 "#PWR0112" H 4350 1750 50  0001 C CNN
F 1 "GND" H 4355 1827 50  0000 C CNN
F 2 "" H 4350 2000 50  0001 C CNN
F 3 "" H 4350 2000 50  0001 C CNN
	1    4350 2000
	1    0    0    -1  
$EndComp
Wire Wire Line
	5950 1450 5850 1450
Connection ~ 5850 1450
Wire Wire Line
	5850 1450 5850 1600
$Comp
L power:GND #PWR0113
U 1 1 601EDF93
P 5850 2000
F 0 "#PWR0113" H 5850 1750 50  0001 C CNN
F 1 "GND" H 5855 1827 50  0000 C CNN
F 2 "" H 5850 2000 50  0001 C CNN
F 3 "" H 5850 2000 50  0001 C CNN
	1    5850 2000
	1    0    0    -1  
$EndComp
Wire Wire Line
	7050 1450 6950 1450
Connection ~ 6950 1450
Wire Wire Line
	6950 1450 6950 1600
$Comp
L power:GND #PWR0114
U 1 1 601FFA12
P 6950 2000
F 0 "#PWR0114" H 6950 1750 50  0001 C CNN
F 1 "GND" H 6955 1827 50  0000 C CNN
F 2 "" H 6950 2000 50  0001 C CNN
F 3 "" H 6950 2000 50  0001 C CNN
	1    6950 2000
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 60207D1B
P 1450 4500
F 0 "C?" H 1542 4546 50  0000 L CNN
F 1 "1u" H 1542 4455 50  0000 L CNN
F 2 "" H 1450 4500 50  0001 C CNN
F 3 "~" H 1450 4500 50  0001 C CNN
	1    1450 4500
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0115
U 1 1 60208F65
P 1450 4650
F 0 "#PWR0115" H 1450 4400 50  0001 C CNN
F 1 "GND" H 1455 4477 50  0000 C CNN
F 2 "" H 1450 4650 50  0001 C CNN
F 3 "" H 1450 4650 50  0001 C CNN
	1    1450 4650
	1    0    0    -1  
$EndComp
Wire Wire Line
	1450 4650 1450 4600
Wire Wire Line
	1450 4400 1450 4350
Connection ~ 1450 4350
Wire Wire Line
	1450 4350 1650 4350
$Comp
L Device:C_Small C?
U 1 1 60216F4E
P 2450 4500
F 0 "C?" H 2542 4546 50  0000 L CNN
F 1 "1u" H 2542 4455 50  0000 L CNN
F 2 "" H 2450 4500 50  0001 C CNN
F 3 "~" H 2450 4500 50  0001 C CNN
	1    2450 4500
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0116
U 1 1 602184BE
P 2450 4650
F 0 "#PWR0116" H 2450 4400 50  0001 C CNN
F 1 "GND" H 2455 4477 50  0000 C CNN
F 2 "" H 2450 4650 50  0001 C CNN
F 3 "" H 2450 4650 50  0001 C CNN
	1    2450 4650
	1    0    0    -1  
$EndComp
Wire Wire Line
	2450 4650 2450 4600
Wire Wire Line
	2450 4400 2450 4350
Connection ~ 2450 4350
Wire Wire Line
	2450 4350 2750 4350
$Comp
L Connector:Conn_01x06_Male J?
U 1 1 60222836
P 1100 5900
F 0 "J?" H 1200 6350 50  0000 C CNN
F 1 "Conn_01x06_Male" H 1200 6250 50  0000 C CNN
F 2 "" H 1100 5900 50  0001 C CNN
F 3 "~" H 1100 5900 50  0001 C CNN
	1    1100 5900
	1    0    0    -1  
$EndComp
Wire Wire Line
	1300 5700 1700 5700
Wire Wire Line
	1700 5700 1700 5600
Wire Wire Line
	1300 6200 1700 6200
Wire Wire Line
	1700 6200 1700 6300
$Comp
L power:GND #PWR0117
U 1 1 6022E7A6
P 1700 6300
F 0 "#PWR0117" H 1700 6050 50  0001 C CNN
F 1 "GND" H 1705 6127 50  0000 C CNN
F 2 "" H 1700 6300 50  0001 C CNN
F 3 "" H 1700 6300 50  0001 C CNN
	1    1700 6300
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR0118
U 1 1 6022ECCC
P 1700 5600
F 0 "#PWR0118" H 1700 5450 50  0001 C CNN
F 1 "+3.3V" H 1715 5773 50  0000 C CNN
F 2 "" H 1700 5600 50  0001 C CNN
F 3 "" H 1700 5600 50  0001 C CNN
	1    1700 5600
	1    0    0    -1  
$EndComp
Wire Wire Line
	1300 5900 1500 5900
Wire Wire Line
	1300 6000 1500 6000
Text Label 1500 5900 0    50   ~ 0
SWDIO
Text Label 1500 6000 0    50   ~ 0
SWCLK
Text Label 1500 6100 0    50   ~ 0
NRST
Wire Wire Line
	1500 6100 1300 6100
Wire Wire Line
	1300 5800 1350 5800
NoConn ~ 1350 5800
Text GLabel 7500 5250 0    50   Input ~ 0
CASE
Wire Wire Line
	7500 5250 7700 5250
$Comp
L Device:D_Small D?
U 1 1 6027830C
P 7800 5250
F 0 "D?" H 7800 5043 50  0000 C CNN
F 1 "D_Small" H 7800 5134 50  0000 C CNN
F 2 "" V 7800 5250 50  0001 C CNN
F 3 "~" V 7800 5250 50  0001 C CNN
	1    7800 5250
	-1   0    0    1   
$EndComp
Wire Wire Line
	7900 5250 8000 5250
Wire Wire Line
	8000 5250 8000 5350
Wire Wire Line
	8000 5250 8350 5250
Wire Wire Line
	8350 5250 8350 5350
Connection ~ 8000 5250
$Comp
L Device:R_Small R?
U 1 1 60284E81
P 8000 5450
F 0 "R?" H 8059 5496 50  0000 L CNN
F 1 "1M" H 8059 5405 50  0000 L CNN
F 2 "" H 8000 5450 50  0001 C CNN
F 3 "~" H 8000 5450 50  0001 C CNN
	1    8000 5450
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 602856C5
P 8350 5450
F 0 "C?" H 8442 5496 50  0000 L CNN
F 1 "4.7n" H 8442 5405 50  0000 L CNN
F 2 "" H 8350 5450 50  0001 C CNN
F 3 "~" H 8350 5450 50  0001 C CNN
	1    8350 5450
	1    0    0    -1  
$EndComp
Wire Wire Line
	8350 5550 8350 5650
Wire Wire Line
	8350 5650 8000 5650
Wire Wire Line
	8000 5650 8000 5550
Connection ~ 8350 5650
Wire Wire Line
	8350 5650 8350 5750
$Comp
L power:GND #PWR0119
U 1 1 602A43FB
P 8350 5750
F 0 "#PWR0119" H 8350 5500 50  0001 C CNN
F 1 "GND" H 8355 5577 50  0000 C CNN
F 2 "" H 8350 5750 50  0001 C CNN
F 3 "" H 8350 5750 50  0001 C CNN
	1    8350 5750
	1    0    0    -1  
$EndComp
$Comp
L Power_Protection:USBLC6-2SC6 U?
U 1 1 602AACFA
P 9900 5400
F 0 "U?" H 9900 5981 50  0000 C CNN
F 1 "USBLC6-2SC6" H 9900 5890 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-6" H 9900 4900 50  0001 C CNN
F 3 "https://www.st.com/resource/en/datasheet/usblc6-2.pdf" H 10100 5750 50  0001 C CNN
	1    9900 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	2150 2050 2700 2050
Wire Wire Line
	3450 2050 3450 1950
Connection ~ 2150 2050
$Comp
L power:+3.3V #PWR0120
U 1 1 602BB638
P 3450 1950
F 0 "#PWR0120" H 3450 1800 50  0001 C CNN
F 1 "+3.3V" H 3465 2123 50  0000 C CNN
F 2 "" H 3450 1950 50  0001 C CNN
F 3 "" H 3450 1950 50  0001 C CNN
	1    3450 1950
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 602BC2DD
P 2800 2050
F 0 "R?" V 2900 2050 50  0000 C CNN
F 1 "1.5k" V 3000 2050 50  0000 C CNN
F 2 "" H 2800 2050 50  0001 C CNN
F 3 "~" H 2800 2050 50  0001 C CNN
	1    2800 2050
	0    1    1    0   
$EndComp
Wire Wire Line
	2900 2050 3450 2050
Text Notes 3000 2400 0    50   ~ 0
Pull-up indicates \nUSB 1.1 Full Speed
Text Notes 3000 1350 0    50   ~ 0
Upstream facing port \ntermination
Text Notes 7200 4900 0    50   ~ 0
ESD inrush protection
Wire Notes Line
	700  5200 2100 5200
Wire Notes Line
	2100 6650 700  6650
Text Notes 750  5350 0    50   ~ 0
SWD Debug Port
Text Notes 4250 900  0    50   ~ 0
Decoupling capacitors for MCU (Figure 13, p. 43)\nImportant: Must be close to MCU on PCB
Wire Notes Line
	700  6650 700  5200
Wire Notes Line
	2100 5200 2100 6650
$Sheet
S 8950 2950 600  300 
U 601F4644
F0 "tfk20 RGB Matrix" 50
F1 "tfk20_rgb_matrix.sch" 50
F2 "SDA" I L 8950 3050 50 
F3 "SCL" I L 8950 3150 50 
$EndSheet
Wire Wire Line
	8850 3050 8950 3050
Wire Wire Line
	8950 3150 8850 3150
Text Label 8850 3050 2    50   ~ 0
I2C_SDA
Text Label 8850 3150 2    50   ~ 0
I2C_SCL
Wire Wire Line
	4850 4800 4950 4800
Wire Wire Line
	5950 3900 6050 3900
Wire Wire Line
	5950 4100 6050 4100
Text Label 6050 3900 0    50   ~ 0
SPI_SCK
Text Label 6050 4000 0    50   ~ 0
SPI_MISO
Text Label 6050 4100 0    50   ~ 0
SPI_MOSI
Wire Notes Line
	4200 700  7900 700 
Wire Notes Line
	7900 700  7900 2300
Wire Notes Line
	7900 2300 4200 2300
Wire Notes Line
	4200 2300 4200 700 
Text Notes 4250 2750 0    50   ~ 0
MCU
Wire Notes Line
	4200 2600 6500 2600
Wire Notes Line
	6500 2600 6500 5600
Wire Notes Line
	6500 5600 4200 5600
Wire Notes Line
	4200 5600 4200 2600
Text Notes 750  3900 0    50   ~ 0
Linear voltage regulator
Wire Notes Line
	700  3750 2950 3750
Wire Notes Line
	2950 3750 2950 4950
Wire Notes Line
	2950 4950 700  4950
Wire Notes Line
	700  4950 700  3750
Wire Notes Line
	700  700  3900 700 
Wire Notes Line
	3900 700  3900 3500
Wire Notes Line
	3900 3500 700  3500
Wire Notes Line
	700  3500 700  700 
Text Notes 750  850  0    50   ~ 0
USB-C
Wire Notes Line
	6800 4200 10050 4200
Wire Notes Line
	10050 4200 10050 2600
Wire Notes Line
	10050 2600 6800 2600
Wire Notes Line
	6800 2600 6800 4200
Text Notes 6850 2750 0    50   ~ 0
Key and LED sub-sheets
Wire Notes Line
	7150 4750 8700 4750
Wire Notes Line
	8700 4750 8700 6000
Wire Notes Line
	8700 6000 7150 6000
Wire Notes Line
	7150 6000 7150 4750
$EndSCHEMATC
