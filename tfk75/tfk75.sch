EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 2
Title "tfk75"
Date "2021-01-16"
Rev "0"
Comp "biosmanager"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L power:+3.3V #PWR?
U 1 1 6005DAE8
P 800 1150
F 0 "#PWR?" H 800 1000 50  0001 C CNN
F 1 "+3.3V" H 815 1323 50  0000 C CNN
F 2 "" H 800 1150 50  0001 C CNN
F 3 "" H 800 1150 50  0001 C CNN
	1    800  1150
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C1
U 1 1 6005EF74
P 800 1500
F 0 "C1" H 892 1546 50  0000 L CNN
F 1 "100n" H 892 1455 50  0000 L CNN
F 2 "" H 800 1500 50  0001 C CNN
F 3 "~" H 800 1500 50  0001 C CNN
	1    800  1500
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C3
U 1 1 600622B6
P 1800 1500
F 0 "C3" H 1892 1546 50  0000 L CNN
F 1 "100n" H 1892 1455 50  0000 L CNN
F 2 "" H 1800 1500 50  0001 C CNN
F 3 "~" H 1800 1500 50  0001 C CNN
	1    1800 1500
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C4
U 1 1 6006295D
P 2300 1500
F 0 "C4" H 2392 1546 50  0000 L CNN
F 1 "100n" H 2392 1455 50  0000 L CNN
F 2 "" H 2300 1500 50  0001 C CNN
F 3 "~" H 2300 1500 50  0001 C CNN
	1    2300 1500
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C5
U 1 1 60062EA5
P 3300 1500
F 0 "C5" H 3392 1546 50  0000 L CNN
F 1 "4.7u" H 3392 1455 50  0000 L CNN
F 2 "" H 3300 1500 50  0001 C CNN
F 3 "~" H 3300 1500 50  0001 C CNN
	1    3300 1500
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C2
U 1 1 60061815
P 1300 1500
F 0 "C2" H 1392 1546 50  0000 L CNN
F 1 "100n" H 1392 1455 50  0000 L CNN
F 2 "" H 1300 1500 50  0001 C CNN
F 3 "~" H 1300 1500 50  0001 C CNN
	1    1300 1500
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C6
U 1 1 6006A8CD
P 2800 1500
F 0 "C6" H 2892 1546 50  0000 L CNN
F 1 "10n" H 2892 1455 50  0000 L CNN
F 2 "" H 2800 1500 50  0001 C CNN
F 3 "~" H 2800 1500 50  0001 C CNN
	1    2800 1500
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C7
U 1 1 6006AD04
P 3800 1500
F 0 "C7" H 3892 1546 50  0000 L CNN
F 1 "1u" H 3892 1455 50  0000 L CNN
F 2 "" H 3800 1500 50  0001 C CNN
F 3 "~" H 3800 1500 50  0001 C CNN
	1    3800 1500
	1    0    0    -1  
$EndComp
Wire Wire Line
	3300 1300 3800 1300
Wire Wire Line
	3800 1300 3800 1400
Connection ~ 3300 1300
Wire Wire Line
	3300 1300 3300 1400
Wire Wire Line
	3800 1600 3800 1700
Wire Wire Line
	3300 1700 3300 1600
Connection ~ 3300 1700
Wire Wire Line
	2300 1600 2300 1700
Wire Wire Line
	2800 1700 2800 1600
Wire Wire Line
	2800 1400 2800 1300
Wire Wire Line
	2300 1400 2300 1300
Wire Wire Line
	2300 1300 2800 1300
Connection ~ 2300 1300
Wire Wire Line
	800  1400 800  1300
Connection ~ 2300 1700
Wire Notes Line
	650  2200 4150 2200
Wire Notes Line
	4150 850  650  850 
Text Notes 650  800  0    59   ~ 0
Decoupling capacitors for MCU (Figure 11, p. 57)\nImportant: Must be close to MCU
Wire Notes Line
	650  2750 4150 2750
$Comp
L MCU_ST_STM32F3:STM32F303RCTx MCU
U 1 1 60019893
P 2350 5150
F 0 "MCU" H 2350 5150 50  0000 C CNN
F 1 "STM32F303RCTx" H 2350 5000 50  0000 C CNN
F 2 "Package_QFP:LQFP-64_10x10mm_P0.5mm" H 1750 3450 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00058181.pdf" H 2750 2100 50  0001 C CNN
F 4 "https://www.st.com/resource/en/reference_manual/dm00043574-stm32f303xbcde-stm32f303x68-stm32f328x8-stm32f358xc-stm32f398xe-advanced-armbased-mcus-stmicroelectronics.pdf" H 2350 5150 50  0001 C CNN "Reference Manual"
	1    2350 5150
	1    0    0    -1  
$EndComp
Text Notes 850  2700 2    59   ~ 0
MCU
Wire Notes Line
	4150 2200 4150 850 
Wire Notes Line
	650  850  650  2200
Wire Notes Line
	4150 7600 650  7600
Wire Notes Line
	650  7600 650  2750
Wire Notes Line
	4150 2750 4150 7600
$Comp
L Device:Resonator Y1
U 1 1 600C6C99
P 5000 7100
F 0 "Y1" H 5000 7348 50  0000 C CNN
F 1 "Resonator" H 5000 7257 50  0000 C CNN
F 2 "" H 4975 7100 50  0001 C CNN
F 3 "~" H 4975 7100 50  0001 C CNN
	1    5000 7100
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 600CAD3B
P 5000 7300
F 0 "#PWR?" H 5000 7050 50  0001 C CNN
F 1 "GND" H 5005 7127 50  0000 C CNN
F 2 "" H 5000 7300 50  0001 C CNN
F 3 "" H 5000 7300 50  0001 C CNN
	1    5000 7300
	1    0    0    -1  
$EndComp
Wire Wire Line
	4700 7100 4850 7100
Wire Notes Line
	4350 6700 4350 7600
Wire Notes Line
	5700 7600 5700 6700
Text Notes 4350 6650 0    59   ~ 0
Crystal / Resonator
Wire Wire Line
	1650 4650 1450 4650
Wire Wire Line
	1650 4750 1450 4750
Text GLabel 1450 4650 0    47   Input ~ 0
OSC_IN
Text GLabel 1450 4750 0    47   Output ~ 0
OSC_OUT
Wire Wire Line
	5150 7100 5300 7100
Text GLabel 5300 7100 2    47   Output ~ 0
OSC_OUT
Text GLabel 4700 7100 0    47   Output ~ 0
OSC_IN
Wire Notes Line
	4350 6700 5700 6700
Wire Notes Line
	4350 7600 5700 7600
$Comp
L Regulator_Linear:MCP1700-3302E_SOT23 U1
U 1 1 600F3DAF
P 5550 5800
F 0 "U1" H 5550 6042 50  0000 C CNN
F 1 "MCP1700-3302E_SOT23" H 5550 5951 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 5550 6025 50  0001 C CNN
F 3 "https://ww1.microchip.com/downloads/en/DeviceDoc/MCP1700-Low-Quiescent-Current-LDO-20001826E.pdf" H 5550 5800 50  0001 C CNN
	1    5550 5800
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 600F5097
P 5550 6100
F 0 "#PWR?" H 5550 5850 50  0001 C CNN
F 1 "GND" H 5555 5927 50  0000 C CNN
F 2 "" H 5550 6100 50  0001 C CNN
F 3 "" H 5550 6100 50  0001 C CNN
	1    5550 6100
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C8
U 1 1 600F5D8F
P 4850 6000
F 0 "C8" H 4942 6046 50  0000 L CNN
F 1 "1u" H 4942 5955 50  0000 L CNN
F 2 "" H 4850 6000 50  0001 C CNN
F 3 "~" H 4850 6000 50  0001 C CNN
	1    4850 6000
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C9
U 1 1 600F91A5
P 6250 6000
F 0 "C9" H 6342 6046 50  0000 L CNN
F 1 "1u" H 6342 5955 50  0000 L CNN
F 2 "" H 6250 6000 50  0001 C CNN
F 3 "~" H 6250 6000 50  0001 C CNN
	1    6250 6000
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 5800 6250 5900
$Comp
L power:GND #PWR?
U 1 1 600FCE02
P 6250 6100
F 0 "#PWR?" H 6250 5850 50  0001 C CNN
F 1 "GND" H 6255 5927 50  0000 C CNN
F 2 "" H 6250 6100 50  0001 C CNN
F 3 "" H 6250 6100 50  0001 C CNN
	1    6250 6100
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 600FE4CE
P 4850 6100
F 0 "#PWR?" H 4850 5850 50  0001 C CNN
F 1 "GND" H 4855 5927 50  0000 C CNN
F 2 "" H 4850 6100 50  0001 C CNN
F 3 "" H 4850 6100 50  0001 C CNN
	1    4850 6100
	1    0    0    -1  
$EndComp
Wire Wire Line
	4850 5900 4850 5800
Connection ~ 4850 5800
Wire Wire Line
	6250 5800 6250 5700
Connection ~ 6250 5800
Wire Wire Line
	4700 5800 4850 5800
Text GLabel 4700 5800 0    47   Input ~ 0
VBUS
$Comp
L power:+3.3V #PWR?
U 1 1 60104114
P 6250 5700
F 0 "#PWR?" H 6250 5550 50  0001 C CNN
F 1 "+3.3V" H 6265 5873 50  0000 C CNN
F 2 "" H 6250 5700 50  0001 C CNN
F 3 "" H 6250 5700 50  0001 C CNN
	1    6250 5700
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 60105131
P 4850 5700
F 0 "#PWR?" H 4850 5550 50  0001 C CNN
F 1 "+5V" H 4865 5873 50  0000 C CNN
F 2 "" H 4850 5700 50  0001 C CNN
F 3 "" H 4850 5700 50  0001 C CNN
	1    4850 5700
	1    0    0    -1  
$EndComp
Wire Wire Line
	4850 5800 5250 5800
Wire Wire Line
	5850 5800 6250 5800
Wire Wire Line
	4850 5700 4850 5800
Wire Notes Line
	4350 6450 6650 6450
Wire Notes Line
	6650 5350 4350 5350
Wire Notes Line
	4350 5350 4350 6450
Wire Notes Line
	6650 5350 6650 6450
Text Notes 4350 5300 0    59   ~ 0
Linear voltage regulator from USB 5V to MCU 3.3V 
Text GLabel 9050 1450 2    47   Input ~ 0
VBUS
NoConn ~ 10650 5850
NoConn ~ 10650 5750
NoConn ~ -2200 1450
Wire Wire Line
	1300 1600 1300 1700
Wire Wire Line
	800  1600 800  1700
Wire Wire Line
	1800 1600 1800 1700
Wire Wire Line
	2300 1700 2800 1700
Wire Wire Line
	3300 1700 3800 1700
Wire Wire Line
	2650 3350 2650 3200
Wire Wire Line
	2650 3200 2550 3200
Wire Wire Line
	2550 3200 2550 3350
Wire Wire Line
	2550 3200 2450 3200
Wire Wire Line
	2450 3200 2450 3350
Connection ~ 2550 3200
Wire Wire Line
	2450 3200 2350 3200
Wire Wire Line
	2350 3200 2350 3350
Connection ~ 2450 3200
Wire Wire Line
	2350 3200 2250 3200
Wire Wire Line
	2250 3200 2250 3350
Connection ~ 2350 3200
Wire Wire Line
	2250 3200 2150 3200
Wire Wire Line
	2150 3200 2150 3350
Connection ~ 2250 3200
Wire Wire Line
	2150 3200 2150 3050
Connection ~ 2150 3200
$Comp
L power:+3.3V #PWR?
U 1 1 6011F98B
P 2150 3050
F 0 "#PWR?" H 2150 2900 50  0001 C CNN
F 1 "+3.3V" H 2165 3223 50  0000 C CNN
F 2 "" H 2150 3050 50  0001 C CNN
F 3 "" H 2150 3050 50  0001 C CNN
	1    2150 3050
	1    0    0    -1  
$EndComp
Connection ~ 800  1300
Wire Wire Line
	800  1300 1300 1300
Connection ~ 1300 1300
Wire Wire Line
	1300 1300 1300 1400
Wire Wire Line
	1300 1300 1800 1300
Connection ~ 1800 1300
Wire Wire Line
	1800 1300 1800 1400
Wire Wire Line
	1800 1300 2300 1300
Wire Wire Line
	2800 1300 3300 1300
Connection ~ 2800 1300
Wire Wire Line
	3300 1700 2800 1700
Connection ~ 2800 1700
Wire Wire Line
	800  1700 1300 1700
Connection ~ 1300 1700
Wire Wire Line
	1800 1700 2300 1700
Connection ~ 1800 1700
Wire Wire Line
	1300 1700 1800 1700
Wire Wire Line
	800  1700 800  1850
Connection ~ 800  1700
$Comp
L power:GND #PWR?
U 1 1 60137D4C
P 800 1850
F 0 "#PWR?" H 800 1600 50  0001 C CNN
F 1 "GND" H 805 1677 50  0000 C CNN
F 2 "" H 800 1850 50  0001 C CNN
F 3 "" H 800 1850 50  0001 C CNN
	1    800  1850
	1    0    0    -1  
$EndComp
Wire Wire Line
	2250 6950 2250 7100
Wire Wire Line
	2250 7100 2350 7100
Wire Wire Line
	2350 7100 2350 6950
Wire Wire Line
	2350 7100 2450 7100
Wire Wire Line
	2450 7100 2450 6950
Connection ~ 2350 7100
Wire Wire Line
	2450 7100 2550 7100
Wire Wire Line
	2550 7100 2550 6950
Connection ~ 2450 7100
Wire Wire Line
	2250 7250 2250 7100
Connection ~ 2250 7100
$Comp
L power:GND #PWR?
U 1 1 6013F4E1
P 2250 7250
F 0 "#PWR?" H 2250 7000 50  0001 C CNN
F 1 "GND" H 2255 7077 50  0000 C CNN
F 2 "" H 2250 7250 50  0001 C CNN
F 3 "" H 2250 7250 50  0001 C CNN
	1    2250 7250
	1    0    0    -1  
$EndComp
Wire Wire Line
	800  1150 800  1300
$Sheet
S 4600 1200 1250 1150
U 60121801
F0 "tfk75 Key Matrix" 50
F1 "tfk75_key_matrix.sch" 50
$EndSheet
Wire Wire Line
	9050 2050 9050 2000
Connection ~ 9050 2000
Wire Wire Line
	9050 2000 9050 1950
Wire Wire Line
	9050 2150 9050 2200
Connection ~ 9050 2200
Wire Wire Line
	9050 2200 9050 2250
Text Label 9100 2000 0    50   ~ 0
USB_D-
Text Label 9100 2200 0    50   ~ 0
USB_D+
Wire Wire Line
	9050 2000 9400 2000
Wire Wire Line
	9050 2200 9400 2200
$Comp
L Connector:USB_C_Receptacle_USB2.0 J?
U 1 1 601413ED
P 8450 2050
F 0 "J?" H 8557 2917 50  0000 C CNN
F 1 "USB_C_Receptacle_USB2.0" H 8557 2826 50  0000 C CNN
F 2 "" H 8600 2050 50  0001 C CNN
F 3 "https://www.usb.org/sites/default/files/documents/usb_type-c.zip" H 8600 2050 50  0001 C CNN
	1    8450 2050
	1    0    0    -1  
$EndComp
NoConn ~ 9050 2550
NoConn ~ 9050 2650
$Comp
L Device:R_Small R?
U 1 1 60151F7D
P 9700 1650
F 0 "R?" V 9504 1650 50  0000 C CNN
F 1 "5.1k" V 9595 1650 50  0000 C CNN
F 2 "" H 9700 1650 50  0001 C CNN
F 3 "~" H 9700 1650 50  0001 C CNN
	1    9700 1650
	0    1    1    0   
$EndComp
$Comp
L Device:R_Small R?
U 1 1 60153BF0
P 9700 1750
F 0 "R?" V 9800 1750 50  0000 C CNN
F 1 "5.1k" V 9900 1750 50  0000 C CNN
F 2 "" H 9700 1750 50  0001 C CNN
F 3 "~" H 9700 1750 50  0001 C CNN
	1    9700 1750
	0    1    1    0   
$EndComp
Wire Wire Line
	9800 1750 10000 1750
Wire Wire Line
	10000 1750 10000 1850
$Comp
L power:GND #PWR?
U 1 1 60158D0A
P 10000 1850
F 0 "#PWR?" H 10000 1600 50  0001 C CNN
F 1 "GND" H 10005 1677 50  0000 C CNN
F 2 "" H 10000 1850 50  0001 C CNN
F 3 "" H 10000 1850 50  0001 C CNN
	1    10000 1850
	1    0    0    -1  
$EndComp
Wire Wire Line
	10000 1650 10000 1750
Connection ~ 10000 1750
Wire Wire Line
	9800 1650 10000 1650
Wire Wire Line
	9050 1650 9600 1650
Wire Wire Line
	9050 1750 9600 1750
Wire Wire Line
	8150 3250 8150 3350
Wire Wire Line
	8150 3350 7800 3350
Wire Wire Line
	7800 3350 7800 3300
Wire Wire Line
	7800 2950 7800 3000
Wire Wire Line
	8150 3050 8150 2950
$Comp
L power:GND #PWR?
U 1 1 6019DA71
P 8150 3400
F 0 "#PWR?" H 8150 3150 50  0001 C CNN
F 1 "GND" H 8155 3227 50  0000 C CNN
F 2 "" H 8150 3400 50  0001 C CNN
F 3 "" H 8150 3400 50  0001 C CNN
	1    8150 3400
	1    0    0    -1  
$EndComp
Wire Wire Line
	8150 3400 8150 3350
Connection ~ 8150 3350
Connection ~ 8150 2950
Wire Wire Line
	7800 2950 8150 2950
$Comp
L Device:C_Small C?
U 1 1 60193496
P 8150 3150
F 0 "C?" H 8242 3196 50  0000 L CNN
F 1 "4.7n" H 8242 3105 50  0000 L CNN
F 2 "" H 8150 3150 50  0001 C CNN
F 3 "~" H 8150 3150 50  0001 C CNN
	1    8150 3150
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 60192B79
P 7800 3150
F 0 "R?" H 7870 3196 50  0000 L CNN
F 1 "1M" H 7870 3105 50  0000 L CNN
F 2 "" V 7730 3150 50  0001 C CNN
F 3 "~" H 7800 3150 50  0001 C CNN
	1    7800 3150
	1    0    0    -1  
$EndComp
Wire Wire Line
	8450 2950 8700 2950
Wire Wire Line
	8700 2950 8700 3400
$Comp
L power:GND #PWR?
U 1 1 601AF22A
P 8700 3400
F 0 "#PWR?" H 8700 3150 50  0001 C CNN
F 1 "GND" H 8705 3227 50  0000 C CNN
F 2 "" H 8700 3400 50  0001 C CNN
F 3 "" H 8700 3400 50  0001 C CNN
	1    8700 3400
	1    0    0    -1  
$EndComp
$EndSCHEMATC
